"use strict";(self.webpackChunkaudio_journal_frontend=self.webpackChunkaudio_journal_frontend||[]).push([[110],{1110:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var s=n(5043),l=n(6446),i=n(5865),r=n(8911),a=n(1906),o=n(615),c=n(1637),d=n(1081),u=n(8168),x=n(8587),f=n(8387),h=n(8610),p=n(4535),A=n(8206),m=n(7034),j=n(2563),g=n(579);const y=["className","id"],v=(0,p.Ay)(i.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),S=s.forwardRef((function(e,t){const n=(0,A.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:i}=n,r=(0,x.A)(n,y),a=n,o=(e=>{const{classes:t}=e;return(0,h.A)({root:["root"]},m.t,t)})(a),{titleId:c=i}=s.useContext(j.A);return(0,g.jsx)(v,(0,u.A)({component:"h2",className:(0,f.A)(o.root,l),ownerState:a,ref:t,variant:"h6",id:null!=i?i:c},r))}));var w=n(5316),C=n(9347);const b=function(){const[e,t]=(0,s.useState)(null),[n,u]=(0,s.useState)(""),[x,f]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[A,m]=(0,s.useState)(""),[j,y]=(0,s.useState)(!1),v=()=>{y(!1)};return(0,g.jsxs)(l.A,{sx:{mt:8,textAlign:"center"},children:[(0,g.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Import and Analyze a File"}),(0,g.jsxs)(r.A,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:2},children:[(0,g.jsxs)(a.A,{variant:"contained",component:"label",children:["Choose File",(0,g.jsx)("input",{type:"file",hidden:!0,onChange:async e=>{if(e.target.files&&e.target.files[0]){const n=e.target.files[0];t(n),f(null),u("");let s=function(e){const t=e.match(/(20\d{2}[\-_]?(0[1-9]|1[0-2])[\-_]?(0[1-9]|[12][0-9]|3[01]))/);if(t){let e=t[1].replace(/[-_]/g,"");return 8===e.length?`${e.slice(0,4)}-${e.slice(4,6)}-${e.slice(6,8)}`:t[1]}return null}(n.name.replace(/\.[^/.]+$/,""));if(!s){s=new Date(n.lastModified).toISOString().slice(0,10)}m(`${s} Imported Entry`),y(!0)}}})]}),(0,g.jsx)(o.A,{value:e?e.name:"",label:"Selected File",variant:"outlined",size:"small",InputProps:{readOnly:!0},sx:{minWidth:200}}),(0,g.jsx)(a.A,{variant:"contained",color:"primary",onClick:async()=>{if(e){p(!0),u("Processing file..."),f(null);try{const t=await window.electronAPI.processImportedFile(e,A);f(t.result||t.summary||JSON.stringify(t)),u(t.success?"File processed.":"Processing failed.")}catch(t){u("Error processing file.")}finally{p(!1)}}},disabled:!e||h||j,children:"Run AI"})]}),h&&(0,g.jsx)(c.A,{sx:{mt:2}}),n&&(0,g.jsx)(i.A,{sx:{mt:2},children:n}),x&&(0,g.jsxs)(l.A,{sx:{mt:4,textAlign:"left"},children:[(0,g.jsx)(i.A,{variant:"subtitle1",children:"Result:"}),(0,g.jsx)(i.A,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:x})]}),(0,g.jsxs)(d.A,{open:j,onClose:v,children:[(0,g.jsx)(S,{children:"Confirm Entry Name"}),(0,g.jsx)(w.A,{children:(0,g.jsx)(o.A,{autoFocus:!0,margin:"dense",label:"Entry Name",type:"text",fullWidth:!0,value:A,onChange:e=>{m(e.target.value)}})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(a.A,{onClick:v,variant:"contained",children:"Accept"})})]})]})}}}]);
//# sourceMappingURL=110.5f1b9cfa.chunk.js.map